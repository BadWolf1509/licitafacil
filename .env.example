# =============================================================================
# Configurações do banco de dados
# =============================================================================
# SQLite (desenvolvimento local):
# DATABASE_URL=sqlite:///./licitafacil.db

# PostgreSQL (Supabase - produção):
DATABASE_URL=postgresql://postgres.[SEU-PROJECT-REF]:[SUA-SENHA]@aws-0-sa-east-1.pooler.supabase.com:6543/postgres

# Chaves do Supabase (obtenha em Settings > API)
SUPABASE_URL=https://[SEU-PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=sua-anon-key-aqui
SUPABASE_SERVICE_KEY=sua-service-key-aqui

# Configurações de autenticação JWT
SECRET_KEY=sua-chave-secreta-aqui-gere-com-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =======================
# APIs Pagas - DESABILITADAS PERMANENTEMENTE
# =======================
# O sistema usa apenas processamento local (OCR, pdfplumber, PyMuPDF)
# APIs pagas (OpenAI, Gemini, Document AI) não são suportadas
PAID_SERVICES_ENABLED=false

# =======================
# Modo de Processamento
# =======================
# sync = processamento síncrono (Vercel/Lambda)
# queue = fila assíncrona (VPS/Docker)
# Deixe vazio para auto-detectar baseado no ambiente
PROCESSING_MODE=

# =======================
# Fila de Processamento (apenas modo queue)
# =======================
QUEUE_MAX_CONCURRENT=3
QUEUE_POLL_INTERVAL=1.0

# =======================
# Admin inicial (seed)
# =======================
ADMIN_EMAIL=admin@licitafacil.com.br
ADMIN_PASSWORD=SenhaSegura123!
ADMIN_NAME=Administrador

# =======================
# OCR - Configurações Locais
# =======================
# Preferir Tesseract (leve ~50MB) sobre EasyOCR (pesado ~1GB)
OCR_PREFER_TESSERACT=true

# Habilitar pré-processamento de imagem (deskew, contraste, ruído)
PIPELINE_ENABLE_PREPROCESSING=true

# Confiança mínima para aceitar resultado do OCR local (0-1)
PIPELINE_MIN_CONFIDENCE_LOCAL=0.70

# =======================
# Rate Limiting
# =======================
# Habilitar rate limiting global
RATE_LIMIT_ENABLED=true

# Limite global (requisições por janela de tempo)
RATE_LIMIT_REQUESTS=300
RATE_LIMIT_WINDOW=60

# Limites específicos para autenticação (anti brute-force)
RATE_LIMIT_AUTH_LOGIN=5
RATE_LIMIT_AUTH_REGISTER=3
RATE_LIMIT_AUTH_WINDOW=60

# =======================
# CORS e Ambiente
# =======================
# Ambiente: development ou production
ENVIRONMENT=development

# Origens permitidas para CORS (separadas por vírgula)
# Em produção, defina a URL do seu frontend
# CORS_ORIGINS=https://seu-projeto.vercel.app,https://seu-dominio.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =======================
# Storage (produção)
# =======================
# Diretório de uploads (desenvolvimento local)
UPLOAD_DIR=uploads

# Em produção, o sistema usa Supabase Storage automaticamente
# quando SUPABASE_URL e SUPABASE_SERVICE_KEY estão definidos
