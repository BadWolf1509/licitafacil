# Configurações do banco de dados
DATABASE_URL=sqlite:///./licitafacil.db

# Configurações de autenticação JWT
SECRET_KEY=sua-chave-secreta-aqui-gere-com-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =======================
# Configurações de IA
# =======================

# OpenAI API (GPT-4o para análise de documentos)
OPENAI_API_KEY=sua-chave-openai-aqui

# Google Gemini API (alternativa mais econômica)
GOOGLE_API_KEY=sua-chave-google-aqui

# Google Document AI (table extraction - higher accuracy, higher cost)
DOCUMENT_AI_ENABLED=0
DOCUMENT_AI_FALLBACK_ONLY=1
DOCUMENT_AI_PROJECT_ID=seu-projeto-google
DOCUMENT_AI_LOCATION=us
DOCUMENT_AI_PROCESSOR_ID=seu-processor-id
DOCUMENT_AI_PROCESSOR_VERSION=
GOOGLE_APPLICATION_CREDENTIALS=C:\\caminho\\para\\service-account.json

# Provedor de IA preferencial
# Opções: auto (padrão - prioriza Gemini), openai, gemini
AI_PROVIDER=auto

# =======================
# Atestado extraction
# =======================

# Use LLM only when table extraction confidence is low
ATTESTADO_LLM_FALLBACK_ONLY=1

# Table extraction thresholds
ATTESTADO_TABLE_CONFIDENCE_THRESHOLD=0.7

# Minimum items required to accept table extraction
ATTESTADO_TABLE_MIN_ITEMS=10

# OCR layout fallback
ATTESTADO_OCR_LAYOUT_CONFIDENCE=0.3
ATTESTADO_OCR_LAYOUT_DPI=300
ATTESTADO_OCR_LAYOUT_PAGE_MIN_ITEMS=3

# Similarity threshold to drop no-code items that match coded items
ATTESTADO_DESC_SIM_THRESHOLD=0.7

# Similarity threshold to attach item codes from table candidates
ATTESTADO_CODE_MATCH_THRESHOLD=0.55

# Item column detection (OCR layout)
ATTESTADO_ITEM_COL_RATIO=0.35
ATTESTADO_ITEM_COL_MAX_X_RATIO=0.35
ATTESTADO_ITEM_COL_MAX_INDEX=2
ATTESTADO_ITEM_COL_MIN_SCORE=0.5
ATTESTADO_ITEM_COL_MIN_COUNT=6

# Dominant item length filter
ATTESTADO_ITEM_LEN_RATIO=0.6
ATTESTADO_ITEM_LEN_KEEP_MIN_DESC=20

# Dominant item prefix filter
ATTESTADO_ITEM_PREFIX_RATIO=0.7

# OCR page acceptance filter
ATTESTADO_OCR_PAGE_MIN_DOMINANT_LEN=2
ATTESTADO_OCR_PAGE_MIN_ITEM_RATIO=0.6
ATTESTADO_OCR_PAGE_MIN_UNIT_RATIO=0.2
ATTESTADO_OCR_PAGE_FALLBACK_UNIT_RATIO=0.4
ATTESTADO_OCR_PAGE_FALLBACK_ITEM_RATIO=0.8
ATTESTADO_OCR_PAGE_MIN_ITEMS=5

# OCR noise thresholds (trigger Document AI fallback)
ATTESTADO_OCR_NOISE_MIN_UNIT_RATIO=0.7
ATTESTADO_OCR_NOISE_MIN_QTY_RATIO=0.6
ATTESTADO_OCR_NOISE_MIN_AVG_DESC_LEN=30
ATTESTADO_OCR_NOISE_MAX_SHORT_DESC_RATIO=0.3
ATTESTADO_OCR_NOISE_MIN_ALPHA_RATIO=0.55
ATTESTADO_OCR_NOISE_SHORT_DESC_LEN=16
ATTESTADO_OCR_NOISE_MIN_FAILS=2

# =======================
# Fila de Processamento
# =======================

# Número máximo de jobs processando simultaneamente
QUEUE_MAX_CONCURRENT=3

# Intervalo de verificação da fila (segundos)
QUEUE_POLL_INTERVAL=1.0

# =======================
# Admin inicial (seed)
# =======================
ADMIN_EMAIL=admin@licitafacil.com.br
ADMIN_PASSWORD=admin123
ADMIN_NAME=Administrador
